	dialog = auxTempSensor1Gauges
		gauge = rawAuxTemp1Gauge

	dialog = auxTempSensor1Sensor, "aux1 Thermistor Settings", border
		panel = auxTempSensor1_thermistor, West
		panel = auxTempSensor1Gauges, East

	dialog = flexGauges
		gauge = flexPercentGauge
		gauge = fuelTempGauge
		gauge = rawFlexFreqGauge

  dialog = flexSensorDialog, "Flex Sensor"
		panel = flexSensorDialogLeft, West
		panel = flexGauges, East

	dialog = tpsGauges
		gauge = rawTps1PrimaryGauge
		gauge = rawTps1SecondaryGauge
		gauge = rawTps2PrimaryGauge@@if_ts_show_tps2
		gauge = rawTps2SecondaryGauge@@if_ts_show_tps2

	dialog = tpsSensorLeft
		panel = tpsNum1, { sentEtbType == 0}
		panel = tpsNum2, { sentEtbType == 0}@@if_ts_show_tps2
		panel = tpsSent1, Center, {isEtbEnabled}@@if_ts_show_tps_sent
		panel = tpsPpsLimits@@if_ts_show_tsp_pps_limits
		panel = tpsSpecialSensors, Center, {isEtbEnabled}@@if_ts_show_tsp_pps_limits

	dialog = tpsSensor, "", border
		panel = tpsSensorLeft, West
		panel = tpsGauges, East

	dialog = wastegatePosGauges, ""
		gauge = rawWastegatePositionGauge, West
		gauge = wastegatePosGauge, East

	dialog = wastegatePosDialog, "Electronic Wastegate position sensor", border
		panel = wastegatePosConfig, West
		panel = wastegatePosGauges, East

	dialog = idleValvePosGauges, ""
		gauge = rawIdlePositionSensorGauge
		gauge = idlePosSensGauge

	dialog = idleValvePosDialog, "ETB-style Idle valve position sensor", border
		panel = idleValvePosConfig, West
		panel = idleValvePosGauges, East

	dialog = uegoCan0Gauges
		gauge = afr1Gauge
		gauge = wb1tempC
		gauge = wb1heaterDuty
		gauge = wb1nernstVoltage

	dialog = uegoCan1Gauges
		gauge = afr2Gauge
		gauge = wb2tempC
		gauge = wb2heaterDuty
		gauge = wb2nernstVoltage

	dialog = uegoCan0IndicatorPanel
		panel = uegoCan0Indicators
		panel = uegoCan0IndicatorsExt

	dialog = uegoCan1IndicatorPanel
		panel = uegoCan1Indicators
		panel = uegoCan1IndicatorsExt

	dialog = uegoCan0ConfigPanel
		field = "UEGO type", canWbo1_type
		field = "RusEFI WBO ID", canWbo1_reId, { canWbo1_type == @@can_wbo_type_e_RUSEFI@@ }
		field = "AEM ID", canWbo1_aemId, { canWbo1_type == @@can_wbo_type_e_AEM@@ }

	dialog = uegoCan1ConfigPanel
		field = "UEGO type", canWbo2_type
		field = "RusEFI WBO ID", canWbo2_reId, { canWbo2_type == @@can_wbo_type_e_RUSEFI@@ }
		field = "AEM ID", canWbo2_aemId, { canWbo2_type == @@can_wbo_type_e_AEM@@ }

	dialog = uegoCan0StatusPanel, "CAN UEGO 1", border
		panel = uegoCan0ConfigPanel, North@@if_ts_show_can_wbo_type
		panel = uegoCan0Gauges, West
		panel = uegoCan0IndicatorPanel, East

	dialog = uegoCan1StatusPanel, "CAN UEGO 2", border
		panel = uegoCan1ConfigPanel, North@@if_ts_show_can_wbo_type
		panel = uegoCan1IndicatorPanel, West
		panel = uegoCan1Gauges, East

	dialog = uegoCan, @@egoSettings_NAME@@
		field = "Support for AEM or RusEFI CAN UEGO"@@if_ts_show_can_wbo_type
		field = "Enable CAN Wideband", enableAemXSeries, { canReadEnabled }
		field = "Wideband CAN bus", widebandOnSecondBus@@if_ts_show_wbo_canbus_index
		field = "Smoothing Factor", afrExpAverageAlpha
		field = "!Please use force heating only for testing."
		field = "!Never keep enabled outside workshop."
		field = "!This can damage your sensor."
		field = "Force O2 sensor heating", forceO2Heating
		commandButton = "Restart all WBO", cmd_restart_widebands
;		commandButton = "Update 2023 Firmware", cmd_wideband_firmare_update, { (canWbo1_type == @@can_wbo_type_e_RUSEFI@@ && wb1fwOutdated) || (canWbo2_type == @@can_wbo_type_e_RUSEFI@@ && wb2fwOutdated) }
		commandButton = "Update 2023 Firmware from file", cmd_wideband_firmare_update_file
		field = ""
		field = ""
		field = ""
		field = ""
		field = ""
		field = ""
		field = ""

	dialog = egoSettings, "", xAxis
		panel = uegoCan0StatusPanel, { enableAemXSeries == 1 }
		panel = uegoCan
		panel = uegoCan1StatusPanel, { enableAemXSeries == 1 }

	dialog = analogEgoSettings, "", yAxis
		field = "Disable CAN O2 sensor(s) to enable this settings"
		panel = egoSettings_sensor, {afr_hwChannel != @@ADC_CHANNEL_NONE@@ && enableAemXSeries == 0}@@if_ts_show_analog_ego
		panel = egoSettings_IO1@@if_ts_show_analog_ego
		panel = egoSettings_IO2, {afr_hwChannel != @@ADC_CHANNEL_NONE@@ && enableAemXSeries == 0}@@if_ts_show_ego2
		field = "Smoothing Factor", afrExpAverageAlpha

	dialog = fuelLevelGauges
		gauge = rawFuelLevelGauge
		gauge = fuelTankLevelGauge

	dialog = fuelLevelSettings
		field = "Input channel",	fuelLevelSensor
		field = "Low threshold",	fuelLevelLowThresholdVoltage, {fuelLevelSensor != @@ADC_CHANNEL_NONE@@}@@if_ts_show_fuel_threshold
		field = "High threshold",	fuelLevelHighThresholdVoltage, {fuelLevelSensor != @@ADC_CHANNEL_NONE@@}@@if_ts_show_fuel_threshold
		field = "Filter Alpha",		fuelLevelAveragingAlpha
		field = "Update period",	fuelLevelUpdatePeriodSec
		panel = fuelLevelCurve

	dialog = fuelLevelDialog, "Fuel Level Sensor", border
		panel = fuelLevelSettings, West
		panel = fuelLevelGauges, East

	dialog = iatGauges
		gauge = IATGauge
		gauge = rawIatGauge

	dialog = iatSensorDialog, "IAT Sensor", border
		panel = iat_thermistor, West
		panel = iatGauges, East

	dialog = oilp_settings, "Oil Pressure Sensor"
		field = "Oil Pressure input",				    oilPressure_hwChannel
		field = "low voltage",							oilPressure_v1, {oilPressure_hwChannel != @@ADC_CHANNEL_NONE@@}
		field = "low pressure",							oilPressure_value1, {oilPressure_hwChannel != @@ADC_CHANNEL_NONE@@}
		field = "high voltage",							oilPressure_v2, {oilPressure_hwChannel != @@ADC_CHANNEL_NONE@@}
		field = "high pressure",						oilPressure_value2, {oilPressure_hwChannel != @@ADC_CHANNEL_NONE@@}

	dialog = oilPressureGauges
		gauge = OilPressGauge
		gauge = rawOilPressureGauge

	dialog = oilPressureSensor, "", border
		panel = oilp_settings, West
		panel = oilPressureGauges, East

	dialog = fuellop_analog_settings, "Sensor scaling"
		field = "low voltage",							lowPressureFuel_v1, {lowPressureFuel_hwChannel != @@ADC_CHANNEL_NONE@@}
		field = "low pressure",							lowPressureFuel_value1, {lowPressureFuel_hwChannel != @@ADC_CHANNEL_NONE@@}
		field = "high voltage",							lowPressureFuel_v2, {lowPressureFuel_hwChannel != @@ADC_CHANNEL_NONE@@}
		field = "high pressure",						lowPressureFuel_value2, {lowPressureFuel_hwChannel != @@ADC_CHANNEL_NONE@@}

	dialog = fuelhip_analog_settings, "Sensor scaling"
		field = "low voltage",							highPressureFuel_v1, {highPressureFuel_hwChannel != @@ADC_CHANNEL_NONE@@}
		field = "low pressure",							highPressureFuel_value1, {highPressureFuel_hwChannel != @@ADC_CHANNEL_NONE@@}
		field = "high voltage",							highPressureFuel_v2, {highPressureFuel_hwChannel != @@ADC_CHANNEL_NONE@@}
		field = "high pressure",						highPressureFuel_value2, {highPressureFuel_hwChannel != @@ADC_CHANNEL_NONE@@}

	dialog = fuellop_settings, "Fuel Low Pressure Sensor"
		field = "Analog input",			    			lowPressureFuel_hwChannel
		field = "sensor type",							fuelPressureSensorMode, {lowPressureFuel_hwChannel != @@ADC_CHANNEL_NONE@@}
		panel = fuellop_analog_settings, {lowPressureFuel_hwChannel != @@ADC_CHANNEL_NONE@@}

	dialog = fuelhip_settings, "Fuel High Pressure Sensor"
		field = "Sensor SENT type"						FuelHighPressureSentType
		field = "Sensor SENT input",					FuelHighPressureSentInput, {FuelHighPressureSentType != 0 }
		field = "Analog input",							highPressureFuel_hwChannel, {FuelHighPressureSentType == 0 }
		panel = fuelhip_analog_settings, {FuelHighPressureSentType == 0 && highPressureFuel_hwChannel != @@ADC_CHANNEL_NONE@@}

	dialog = fuelp_settings, "Fuel Pressure Sensor"
		panel = fuellop_settings
		panel = fuelhip_settings

	dialog = fuelPressureGauges
		gauge = lowFuelPressureGauge
		gauge = rawLowFuelPressureGauge
		gauge = highFuelPressureGauge
		gauge = rawHighFuelPressureGauge

	dialog = fuelPressureSensor, "", border
		panel = fuelp_settings, West
		panel = fuelPressureGauges, East

    dialog = acPressureSensorSettings, "A/C Pressure Sensor"
		field = "Input",	    acPressure_hwChannel
		field = "Low voltage",	acPressure_v1, {acPressure_hwChannel != @@ADC_CHANNEL_NONE@@}
		field = "Low value",	acPressure_value1, {acPressure_hwChannel != @@ADC_CHANNEL_NONE@@}
		field = "High voltage",	acPressure_v2, {acPressure_hwChannel != @@ADC_CHANNEL_NONE@@}
		field = "High value",	acPressure_value2, {acPressure_hwChannel != @@ADC_CHANNEL_NONE@@}

	dialog = acPressureGauges
		gauge = acPressureGauge
		gauge = rawAcPressureGauge

	dialog = acPressureSensor, "", border
		panel = acPressureSensorSettings, West
		panel = acPressureGauges, East

	indicatorPanel = fuelClosedLoopIndicatorsPanel
		indicator = { stftCorrectionState != @@stft_state_e_stftEnabled@@ }, { Correction using bitStringValue(stftBinIdxList, stftCorrectionBinIdx) region }, { Not active: bitStringValue(stftStateList, stftCorrectionState) }, green, black, while, black
		indicator = { isTuningNow }, "No tuning happening", "Tuning Detected",  white,  black,  green,  black

	dialog = fuelClosedLoopIndicators, "Status"
		panel = fuelClosedLoopIndicatorsPanel

	dialog = fuelClosedLoopSettings, "Short term fuel trim"
		field = "Short term fuel trim",								fuelClosedLoopCorrectionEnabled
		field = "Settings used for both correction and learning:"
		field = "Minimum CLT",							stft_minClt, { isSTFT }
		field = "Startup delay"							stft_startupDelay, { isSTFT }
		field = "After DFCO delay",						noFuelTrimAfterDfcoTime, { isSTFT }
		field = "Detect Tuning and Suspend",			isTuningDetectorEnabled, { isSTFT }
		field = "Settings used for learning only:"
		field = "Minimum AFR for learning",				stft_minAfr, { isSTFT }
		field = "Maximum AFR for learning",				stft_maxAfr, { isSTFT }
		field = "Adjustment deadband",					stft_deadband, { isSTFT }
		field = "Ignore error magnitude",				stftIgnoreErrorMagnitude, { isSTFT }

	dialog = fuelClosedLoopConfig
		panel = fuelClosedLoopSettings
		panel = stftPartitioning, { isSTFT }
		panel = stftPartitionSettingsIdle, { isSTFT }
		panel = stftPartitionSettingsOverrun, { isSTFT }
		panel = stftPartitionSettingsPower, { isSTFT }
		panel = stftPartitionSettingsMain, { isSTFT }
		panel = fuelClosedLoopIndicators

	indicatorPanel = fuelClosedLoopInputIndicatorsPanelBank1, 2
		; indicator = { stftLearningState1 == @@stft_state_e_stftDisabledSettings@@      },  { bitStringValue(stftStateList, @@stft_state_e_stftDisabledSettings@@     ) }, { bitStringValue(stftStateList, stftLearningState1) }, green, black, red, black
		indicator = { stftLearningState1 == @@stft_state_e_stftDisabledTuning@@        },  { bitStringValue(stftStateList, @@stft_state_e_stftDisabledTuning@@       ) }, { bitStringValue(stftStateList, stftLearningState1) }, green, black, red, black
		indicator = { stftLearningState1 == @@stft_state_e_stftDisabledRPM@@           },  { bitStringValue(stftStateList, @@stft_state_e_stftDisabledRPM@@          ) }, { bitStringValue(stftStateList, stftLearningState1) }, green, black, red, black
		indicator = { stftLearningState1 == @@stft_state_e_stftDisabledCrankingDelay@@ },  { bitStringValue(stftStateList, @@stft_state_e_stftDisabledCrankingDelay@@) }, { bitStringValue(stftStateList, stftLearningState1) }, green, black, red, black
		indicator = { stftLearningState1 == @@stft_state_e_stftDisabledClt@@           },  { bitStringValue(stftStateList, @@stft_state_e_stftDisabledClt@@          ) }, { bitStringValue(stftStateList, stftLearningState1) }, green, black, red, black
		indicator = { stftLearningState1 == @@stft_state_e_stftDisabledAfrOurOfRange@@ },  { bitStringValue(stftStateList, @@stft_state_e_stftDisabledAfrOurOfRange@@) }, { bitStringValue(stftStateList, stftLearningState1) }, green, black, red, black
		indicator = { stftLearningState1 == @@stft_state_e_stftDisabledDFCO@@          },  { bitStringValue(stftStateList, @@stft_state_e_stftDisabledDFCO@@         ) }, { bitStringValue(stftStateList, stftLearningState1) }, green, black, red, black
		indicator = { stftLearningState1 == @@stft_state_e_stftDisabledTpsAccel@@      },  { bitStringValue(stftStateList, @@stft_state_e_stftDisabledTpsAccel@@     ) }, { bitStringValue(stftStateList, stftLearningState1) }, green, black, red, black
		indicator = { stftLearningState1 == @@stft_state_e_stftDisabledFuelCut@@       },  { bitStringValue(stftStateList, @@stft_state_e_stftDisabledFuelCut@@      ) }, { bitStringValue(stftStateList, stftLearningState1) }, green, black, red, black
		; replace individual indicators with following
		; indicator = { stftLearningState1 != @@stft_state_e_stftEnabled@@ },  { Learning region bitStringValue(stftBinIdxList, stftLearningBinIdx) }, { Not learning: bitStringValue(stftStateList, stftLearningState1) }, green, black, while, black

	indicatorPanel = fuelClosedLoopInputIndicatorsPanelBank2, 2
		; indicator = { stftLearningState2 == @@stft_state_e_stftDisabledSettings@@      },  { bitStringValue(stftStateList, @@stft_state_e_stftDisabledSettings@@     ) }, { bitStringValue(stftStateList, stftLearningState2) }, green, black, red, black
		indicator = { stftLearningState2 == @@stft_state_e_stftDisabledTuning@@        },  { bitStringValue(stftStateList, @@stft_state_e_stftDisabledTuning@@       ) }, { bitStringValue(stftStateList, stftLearningState2) }, green, black, red, black
		indicator = { stftLearningState2 == @@stft_state_e_stftDisabledRPM@@           },  { bitStringValue(stftStateList, @@stft_state_e_stftDisabledRPM@@          ) }, { bitStringValue(stftStateList, stftLearningState2) }, green, black, red, black
		indicator = { stftLearningState2 == @@stft_state_e_stftDisabledCrankingDelay@@ },  { bitStringValue(stftStateList, @@stft_state_e_stftDisabledCrankingDelay@@) }, { bitStringValue(stftStateList, stftLearningState2) }, green, black, red, black
		indicator = { stftLearningState2 == @@stft_state_e_stftDisabledClt@@           },  { bitStringValue(stftStateList, @@stft_state_e_stftDisabledClt@@          ) }, { bitStringValue(stftStateList, stftLearningState2) }, green, black, red, black
		indicator = { stftLearningState2 == @@stft_state_e_stftDisabledAfrOurOfRange@@ },  { bitStringValue(stftStateList, @@stft_state_e_stftDisabledAfrOurOfRange@@) }, { bitStringValue(stftStateList, stftLearningState2) }, green, black, red, black
		indicator = { stftLearningState2 == @@stft_state_e_stftDisabledDFCO@@          },  { bitStringValue(stftStateList, @@stft_state_e_stftDisabledDFCO@@         ) }, { bitStringValue(stftStateList, stftLearningState2) }, green, black, red, black
		indicator = { stftLearningState2 == @@stft_state_e_stftDisabledTpsAccel@@      },  { bitStringValue(stftStateList, @@stft_state_e_stftDisabledTpsAccel@@     ) }, { bitStringValue(stftStateList, stftLearningState2) }, green, black, red, black
		indicator = { stftLearningState2 == @@stft_state_e_stftDisabledFuelCut@@       },  { bitStringValue(stftStateList, @@stft_state_e_stftDisabledFuelCut@@      ) }, { bitStringValue(stftStateList, stftLearningState2) }, green, black, red, black
		; replace individual indicators with following
		; indicator = { stftLearningState2 != @@stft_state_e_stftEnabled@@ },  { Learning region bitStringValue(stftBinIdxList, stftLearningBinIdx) }, { Not learning: bitStringValue(stftStateList, stftLearningState2) }, green, black, while, black

	indicatorPanel = fuelClosedLoopOutputIndicatorsPanel, 2
		; indicator = { stftCorrectionState == @@stft_state_e_stftDisabledSettings@@      },  { bitStringValue(stftStateList, @@stft_state_e_stftDisabledSettings@@     ) }, { bitStringValue(stftStateList, stftCorrectionState) }, green, black, red, black
		indicator = { stftCorrectionState == @@stft_state_e_stftDisabledTuning@@        },  { bitStringValue(stftStateList, @@stft_state_e_stftDisabledTuning@@       ) }, { bitStringValue(stftStateList, stftCorrectionState) }, green, black, red, black
		indicator = { stftCorrectionState == @@stft_state_e_stftDisabledRPM@@           },  { bitStringValue(stftStateList, @@stft_state_e_stftDisabledRPM@@          ) }, { bitStringValue(stftStateList, stftCorrectionState) }, green, black, red, black
		indicator = { stftCorrectionState == @@stft_state_e_stftDisabledCrankingDelay@@ },  { bitStringValue(stftStateList, @@stft_state_e_stftDisabledCrankingDelay@@) }, { bitStringValue(stftStateList, stftCorrectionState) }, green, black, red, black
		indicator = { stftCorrectionState == @@stft_state_e_stftDisabledClt@@           },  { bitStringValue(stftStateList, @@stft_state_e_stftDisabledClt@@          ) }, { bitStringValue(stftStateList, stftCorrectionState) }, green, black, red, black
		; replace individual indicators with following
		; indicator = { stftLearningState1 != @@stft_state_e_stftEnabled@@ },  { Learning region bitStringValue(stftBinIdxList, stftLearningBinIdx) }, { Not learning: bitStringValue(stftStateList, stftLearningState1) }, green, black, while, black

	dialog = fuelClosedLoopOutputBank1, "Output correction"
		gauge = fuelStftCorrection1Gauge
		field = "Correction state:"
		panel = fuelClosedLoopOutputIndicatorsPanel

	dialog = fuelClosedLoopOutputBank2, "Output correction"
		gauge = fuelStftCorrection2Gauge
		field = "Correction state:"
		panel = fuelClosedLoopOutputIndicatorsPanel

	dialog = fuelClosedLoopBank1, "Bank 1"
		panel = fuelClosedLoopInputBank1
		panel = fuelClosedLoopOutputBank1

	dialog = fuelClosedLoopBank2, "Bank 2"
		panel = fuelClosedLoopInputBank2
		panel = fuelClosedLoopOutputBank2

	dialog = fuelClosedLoopDialog, "Short term fuel trim/Closed loop", xAxis
		panel = fuelClosedLoopBank1
		panel = fuelClosedLoopConfig
		panel = fuelClosedLoopBank2

	dialog = fuelLTFCSettings, "Long term fuel trim"
		field = "Gathering Data",						ltft_enabled
		field = "See Short term fuel trim/Closed loop for region definitions"
		field = "Time const for Idle region",			ltft_timeConstant1, { ltft_enabled }
		field = "Time const for Overrun region",		ltft_timeConstant2, { ltft_enabled }
		field = "Time const for Power region",			ltft_timeConstant3, { ltft_enabled }
		field = "Time const for Cruise region",			ltft_timeConstant4, { ltft_enabled }
		field = "Max add",								ltft_maxAdd, { ltft_enabled }
		field = "Max remove",							ltft_maxRemove, { ltft_enabled }
		field = "Learning deadband",					ltft_deadband, { ltft_enabled }
		field = "Apply Correction",					ltft_correctionEnabled

	indicatorPanel = ltftIndicatorsPanel
		indicator = { ltftLearning }, "No gather data", "Gathering data" , while, black, green, black
		indicator = { ltftCorrecting }, "Not correcting", "Correcting" , while, black, green, black

	readoutPanel = ltftValuesReadoutPanel, 1
		readout = fuelLtftCntHitGauge
		readout = fuelLtftCntMissGauge
		readout = fuelLtftCntDeadbandGauge

	dialog = ltftIndicators, "Status"
		panel = ltftIndicatorsPanel
		panel = ltftValuesReadoutPanel

	dialog = ltftButtons, "Commands"
		commandButton = "Reset LTFT trims", cmd_ltft_reset
		commandButton = "Apply LTFT to VE and reset", cmd_ltft_apply_to_ve

	dialog = fuelLTFCConfig
		field = "Short term fuel trims should be enabled and configured"
		panel = fuelLTFCSettings, Center, { isSTFT }
		panel = ltftButtons, { isSTFT }
		panel = ltftIndicators

	dialog = fuelLtftLoopBank1, "Trim bank 1"
		gauge = fuelLtftCorrection1Gauge
		gauge = fuelLtftAccumulatedCorrection1Gauge

	dialog = fuelLtftLoopBank2, "Trim bank 2"
		gauge = fuelLtftCorrection2Gauge
		gauge = fuelLtftAccumulatedCorrection2Gauge

	dialog = fuelLTFCDialog, "Long term fuel trims", xAxis
		panel = fuelLtftLoopBank1
		panel = fuelLTFCConfig
		panel = fuelLtftLoopBank2

	dialog = fuelClosedLoopInputBank1, "Input/Learning state"
		gauge = fuelStftInputError1Gauge
		panel = fuelClosedLoopInputIndicatorsPanelBank1

	dialog = fuelClosedLoopInputBank2, "Input/Learning state"
		gauge = fuelStftInputError2Gauge
		panel = fuelClosedLoopInputIndicatorsPanelBank2

	; Injectors test
	dialog = injTest_l, "Output test modes", yAxis
		field = "Iterations", benchTestCount
		field = "On Time", benchTestOnTime
		field = "Off Time", benchTestOffTime

	dialog = injTest_r, "Reference gauges", yAxis
		gauge = VBattGauge,North
		gauge = testBenchIterGauge,South

	dialog = injTest, "", xAxis
		panel = injTest_l
		panel = injTest_r
